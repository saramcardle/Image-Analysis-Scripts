{
  "pixel_classifier_type": "OpenCVPixelClassifier",
  "metadata": {
    "inputPadding": 0,
    "inputResolution": {
      "pixelWidth": {
        "value": 0.172153,
        "unit": "µm"
      },
      "pixelHeight": {
        "value": 0.172153,
        "unit": "µm"
      },
      "zSpacing": {
        "value": 1.0,
        "unit": "z-slice"
      },
      "timeUnit": "SECONDS",
      "timepoints": []
    },
    "inputWidth": 512,
    "inputHeight": 512,
    "inputNumChannels": 3,
    "outputType": "CLASSIFICATION",
    "outputChannels": [
      {
        "name": "Ignore*",
        "color": 16776702
      },
      {
        "name": "Microglia",
        "color": -11494367
      }
    ],
    "classificationLabels": {
      "0": {
        "name": "Ignore*",
        "color": [
          153,
          153,
          153
        ]
      },
      "1": {
        "name": "Microglia",
        "color": [
          80,
          156,
          33
        ]
      }
    }
  },
  "op": {
    "type": "data.op.channels",
    "colorTransforms": [
      {
        "channelName": "C1"
      },
      {
        "channelName": "C2"
      },
      {
        "channelName": "C3"
      }
    ],
    "op": {
      "type": "op.core.sequential",
      "ops": [
        {
          "type": "op.core.sequential",
          "ops": [
            {
              "type": "op.core.split-merge",
              "ops": [
                {
                  "type": "op.filters.multiscale",
                  "features": [
                    "GAUSSIAN",
                    "LAPLACIAN",
                    "WEIGHTED_STD_DEV",
                    "GRADIENT_MAGNITUDE",
                    "STRUCTURE_TENSOR_COHERENCE",
                    "HESSIAN_DETERMINANT"
                  ],
                  "sigmaX": 0.5,
                  "sigmaY": 0.5
                },
                {
                  "type": "op.filters.multiscale",
                  "features": [
                    "GAUSSIAN",
                    "LAPLACIAN",
                    "WEIGHTED_STD_DEV",
                    "GRADIENT_MAGNITUDE",
                    "STRUCTURE_TENSOR_COHERENCE",
                    "HESSIAN_DETERMINANT"
                  ],
                  "sigmaX": 1.0,
                  "sigmaY": 1.0
                },
                {
                  "type": "op.filters.multiscale",
                  "features": [
                    "GAUSSIAN",
                    "LAPLACIAN",
                    "WEIGHTED_STD_DEV",
                    "GRADIENT_MAGNITUDE",
                    "STRUCTURE_TENSOR_COHERENCE",
                    "HESSIAN_DETERMINANT"
                  ],
                  "sigmaX": 2.0,
                  "sigmaY": 2.0
                }
              ]
            },
            {
              "type": "op.ml.feature-preprocessor",
              "preprocessor": {
                "normalizer": {
                  "offsets": [
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0,
                    0.0
                  ],
                  "scales": [
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0,
                    1.0
                  ],
                  "missingValue": 0.0
                },
                "inputLength": 54,
                "outputLength": 54
              }
            }
          ]
        },
        {
          "type": "op.ml.opencv-statmodel",
          "model": {
            "class": "ANN_MLP",
            "statmodel": {
              "opencv_ml_ann_mlp": {
                "format": 3,
                "layer_sizes": [
                  54,
                  2
                ],
                "activation_function": "SIGMOID_SYM",
                "f_param1": 1.0,
                "f_param2": 1.0,
                "min_val": -9.4999999999999996e-01,
                "max_val": 9.4999999999999996e-01,
                "min_val1": -9.7999999999999998e-01,
                "max_val1": 9.7999999999999998e-01,
                "training_params": {
                  "train_method": "RPROP",
                  "dw0": 1.0000000000000001e-01,
                  "dw_plus": 1.2000000000000000e+00,
                  "dw_minus": 5.0000000000000000e-01,
                  "dw_min": 1.1920928955078125e-07,
                  "dw_max": 50.0,
                  "term_criteria": {
                    "epsilon": 1.0000000000000000e-02,
                    "iterations": 1000
                  }
                },
                "input_scale": [
                  2.0863181515292430e-04,
                  -3.8123051980575717e-01,
                  1.5595963936018256e-04,
                  3.2705798396019720e-01,
                  2.2339122874552859e-03,
                  -2.0054953602692691e-01,
                  7.5381293322719753e-04,
                  -3.3969719636149470e-01,
                  2.2144212245947559e+00,
                  -9.3348325718341285e-01,
                  1.5763632131462657e-08,
                  -1.7215252811811046e-01,
                  3.0787273637577546e-04,
                  -2.4262904851274267e-01,
                  2.1478464135675306e-04,
                  1.9261998412971548e-01,
                  2.2971122810064868e-03,
                  -2.0923635976785335e-01,
                  9.1252448682491584e-04,
                  -2.5155723259117502e-01,
                  3.8446121046495811e+00,
                  -2.8356990007256000e+00,
                  1.3982129367905092e-08,
                  -7.3420943058078739e-02,
                  1.4624175721896865e-04,
                  -5.1446317945248621e-01,
                  9.1512194832289422e-05,
                  4.0683257223270869e-01,
                  1.0885574565529801e-03,
                  -2.6574567342511940e-01,
                  4.4233189583410559e-04,
                  -3.9981502248376333e-01,
                  3.1372100975118289e+00,
                  -2.2195288629511563e+00,
                  2.6557899243741828e-09,
                  -8.6132929398518840e-02,
                  2.2392395702716000e-04,
                  -3.9473596677908551e-01,
                  1.2731904887412042e-03,
                  3.9533146418637248e-02,
                  7.0592963289692117e-04,
                  -3.6793567757584161e-01,
                  7.8090578351446070e-04,
                  -3.5972382658345964e-01,
                  2.3947110558216664e+00,
                  -9.4213469206744860e-01,
                  8.5386666262932872e-07,
                  -4.5016769633294505e-03,
                  3.3465470232832531e-04,
                  -2.5503369639772161e-01,
                  1.4109438647083338e-03,
                  1.4373864108796366e-02,
                  8.4937452209859490e-04,
                  -2.7689204364636694e-01,
                  9.8574908200452812e-04,
                  -2.6912837458591382e-01,
                  3.5415441073447957e+00,
                  -1.8347613243140211e+00,
                  6.6139239282559705e-07,
                  -1.6791727779927211e-03,
                  1.6528140281879246e-04,
                  -5.4631077050077803e-01,
                  5.5340064769220088e-04,
                  1.3116392508682237e-01,
                  4.3102742529018090e-04,
                  -4.5646445785145151e-01,
                  5.1837131084668878e-04,
                  -4.3608400495938976e-01,
                  3.1318742020099561e+00,
                  -1.7263055823905826e+00,
                  9.9500064316542173e-08,
                  -2.9545394424773695e-02,
                  2.4736242416842331e-04,
                  -4.2641047520873837e-01,
                  2.7260221812195136e-03,
                  6.2341014460905737e-02,
                  4.5939686111726814e-04,
                  -4.2203157137619557e-01,
                  1.1687793743930196e-03,
                  -4.1021333523800857e-01,
                  2.6462625683041847e+00,
                  -9.2856794953534927e-01,
                  4.4430453697042471e-06,
                  -7.7518755462332219e-03,
                  3.8300485511991796e-04,
                  -2.8508087272101401e-01,
                  3.3630495671555503e-03,
                  4.3517698709279976e-02,
                  5.7170575036086723e-04,
                  -3.3228541618822321e-01,
                  1.6451891785563208e-03,
                  -3.1230947965731842e-01,
                  4.3427313841709188e+00,
                  -1.3031371709373540e+00,
                  4.1105132555445738e-06,
                  -7.4111074299023708e-03,
                  2.0105656071823448e-04,
                  -6.2028203708478025e-01,
                  1.3871535218319810e-03,
                  1.2890919109631885e-01,
                  3.2118758788199099e-04,
                  -5.6201445962462926e-01,
                  9.9057719760157017e-04,
                  -5.4994153916731725e-01,
                  3.4685310999196304e+00,
                  -1.4499195849227489e+00,
                  6.9018794859857752e-07,
                  -4.2508915142568757e-02
                ],
                "output_scale": [
                  1.0,
                  0.0,
                  1.0,
                  0.0
                ],
                "inv_output_scale": [
                  1.0,
                  0.0,
                  1.0,
                  0.0
                ],
                "weights": [
                  [
                    -7.3369000944409513e-01,
                    -4.4461862921528417e-01,
                    2.5036390629269163e-02,
                    -3.0078319573455570e-01,
                    -1.1048812462189314e-01,
                    -6.1266237835171466e-01,
                    -7.4226006911217357e-01,
                    4.4703184402772433e-01,
                    2.0817526399838157e-01,
                    1.0744171774489277e-02,
                    -1.0052226102090978e+00,
                    4.2110342916928001e-01,
                    7.6866964324581311e-01,
                    -1.0813619886559360e+00,
                    -4.4918615569032261e-01,
                    5.5087909717867778e-01,
                    3.2397833457218264e-02,
                    4.6631545251489254e-01,
                    7.5628524755581694e-01,
                    -3.5142385169680046e-01,
                    -1.2461214307399208e-02,
                    -1.9333010489280673e-02,
                    -3.0304074675586129e-02,
                    8.3244539516394966e-01,
                    -1.3017306373430224e+00,
                    5.1377414832081159e-01,
                    4.1655667032571153e-01,
                    -7.4349565778403726e-01,
                    -1.2562583801747984e+00,
                    2.2808310534560845e+00,
                    -2.1484563390530238e+00,
                    9.8794437035149596e-01,
                    1.1592561128339515e-01,
                    -4.3078389987748417e-01,
                    1.7042453133208766e+00,
                    -1.9875628810753118e-01,
                    -2.5705285817863172e-01,
                    -8.3397611660615290e-01,
                    -4.2982866307394346e-01,
                    -3.0009771845423826e-02,
                    6.3405721932381842e-01,
                    1.5431515272957072e-01,
                    -5.3670752002407840e-01,
                    4.0828342016166175e-01,
                    4.2276341590359290e-01,
                    -6.2216014327327662e-01,
                    -3.2899415018550419e-02,
                    2.1227831125526914e-01,
                    6.8727771600280363e-01,
                    -2.9710469084160485e-01,
                    -1.1843912668231844e+00,
                    -5.4423622973413710e-01,
                    -8.3790962419990378e-01,
                    -2.7675407387161410e-01,
                    -9.0355171757524688e-01,
                    -1.1421702222704797e-01,
                    3.3923764369891934e-01,
                    -3.0576310364913412e-01,
                    -1.1764538455373834e+00,
                    5.2014912126036705e-02,
                    -1.1444188723252307e+00,
                    3.4307074665139886e-01,
                    4.3904897978436974e+00,
                    -5.1031908421436807e+00,
                    -2.7627309945112186e+00,
                    2.8630409051850561e+00,
                    -3.2150782268645872e-01,
                    1.1962552530358861e+00,
                    5.7473816085314444e-01,
                    -1.7417484071849035e-01,
                    -1.2647571751290068e-02,
                    -4.3563558709616155e+00,
                    5.3284786354384561e-01,
                    2.2546890765566724e-01,
                    -1.0317071540292999e+00,
                    9.7202104735993911e-01,
                    7.0512020655782026e-01,
                    1.7278405449868323e-01,
                    4.7293431774355726e-01,
                    -7.9824566905933883e-02,
                    1.2444321152829087e-01,
                    -8.5301781986087710e-01,
                    2.1085909449207904e-01,
                    -3.1943934651558714e-01,
                    3.7459074476685145e-01,
                    6.8074457337118643e-02,
                    9.9120913713828129e-01,
                    1.0028371374986919e-01,
                    -9.7576119155367835e-01,
                    6.2175781075785452e-01,
                    8.5774412463905181e-01,
                    7.5425583191201129e-01,
                    -3.0074558327454155e-02,
                    3.2660342583146901e-04,
                    -2.3517163364368743e-01,
                    -6.5826189585476680e-01,
                    5.8578705224548799e-01,
                    5.4201170050330738e-01,
                    5.5829599587168683e+00,
                    -7.6608368394458397e+00,
                    -1.2574823787822997e+00,
                    1.7288883615038747e-01,
                    7.2077422468774510e-01,
                    2.0346794343150695e-01,
                    3.5691464193719491e-02,
                    -1.6741273788237443e-01,
                    2.1009564110641468e+00,
                    -5.2183224433614210e+00,
                    -2.1105071716904900e+00,
                    2.0442391295763409e+00
                  ]
                ]
              }
            }
          },
          "requestProbabilities": false
        },
        {
          "type": "op.core.convert",
          "pixelType": "UINT8"
        }
      ]
    }
  }
}